## 说明 

- 使用 IIFE 封装了一个 HttpHelper，实现 GET/POST 请求发送。GET 方法测试没问题，POST 方法未测。

- 文档中硬编码了一个 BASE_URL 用于测试，url 地址来自于网络上的公开测试 API。

最近在看 JS 的基础概念（基于原型的继承、基于闭包的封装等），于是尝试用 IIFE 封装了一个 http 请求方法。这个 HttpHelper 从公司项目用的改写而来，项目使用了 ts，用类进行封装，它是一个单例，具有静态属性、静态方法、实例方法，权限控制方面用 private、public 关键字。对于 JS 来说，闭包提供了天然的封装，具体来说，要先开启一个函数作用域，如`function(){ // 开启了一个函数作用域 }`，函数内部实现功能逻辑，函数最后只返回可供外界调用的方法，执行这个函数，并把结果赋给一个变量HTTPHelper，调用这个 HTTPHelper 对象的 GET、POST 方法就能分别发起不同请求。

基于类的封装和基于闭包的封装，两者在实现一个功能过程中，需要定义的具体属性、函数都类似，但在写的过程中的思路不一样。就我个人来说，写函数时的心智负担更小一些（需要多写写类 :-p ），在我看来 vue3 的组合式 api 中的 `setup()` 就提供了一个作用域，里面声明与定义的变量、函数被`return` 给外界，供模板和父组件使用。这样写的一个特定是，可以像写流水账一样写实现过程，在需要的时候声明属性和方法，缺点就是代码太长的话，后续找一个变量和方法会很费劲，需要在写的时候遵循一个好的代码规范。

2022-03-01
